<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/templates/issueTrackerMasterLayout.xhtml">
<!-- Ez a változat akkor lesz jó, ha nem lesz külön oldal rá, hanem a ticket részletei alatt fog megjelenni az adott ticketre vonatkozó history. -->
	
	<ui:define name="customHead">

	</ui:define>

	<ui:define name="customBody">

		<div class="container">
			<p:dataTable var="history" value="#{currentTicketView.currentTicket.history}" emptyMessage="#{mes.notfound}">
				<p:column headerText="#{mes.ticket_history_modstatus}">
					<h:outputText value="#{history.modStatus}" />
				</p:column>
				<p:column headerText="#{mes.id}">
					<h:outputText value="#{history.ticket.id}" />
				</p:column>
				<p:column headerText="#{mes.title}">
					<h:outputText value="#{history.ticket.title}" />
				</p:column>
				<p:column headerText="#{mes.type}">
					<h:outputText value="#{history.ticket.name}" />
				</p:column>
				<p:column headerText="#{mes.status}">
					<h:outputText value="#{history.ticket.currentStatus.name}" />
				</p:column>
				<p:column headerText="#{mes.description}">
					<h:outputText value="#{history.ticket.description}" />
				</p:column>
				<!-- Ha nincs, akkor a létrehozó neve. -->
				<p:column headerText="#{mes.ticket_history_mod_user}">
					<h:outputText value="#{history.ticket.modUserName != null ? history.ticket.modUserName : history.ticket.recUserName}" />
				</p:column>
				<p:column headerText="#{mes.ticket_history_comments_number}">
					<h:outputText value="#{history.ticket.comments.size()}" />
				</p:column>
				<!-- Ha nincs akkor a létrehozás dátuma. -->
				<p:column headerText="#{mes.ticket_history_last_modify_date}">
					<h:outputText value="#{history.ticket.modDate != null ? history.ticket.modDate : history.ticket.recDate}" />
				</p:column>
				<p:column headerText="#{mes.clientmail}">
					<h:outputText value="#{history.ticket.clientmail}" />
				</p:column>
				
			</p:dataTable>
		</div>
	</ui:define>
</ui:composition>
