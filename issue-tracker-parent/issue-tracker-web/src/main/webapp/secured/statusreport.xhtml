<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/templates/issueTrackerMasterLayout.xhtml"
                xmlns:sec="http://www.springframework.org/security/tags">

    <ui:define name="pageTitle">IssueTracker</ui:define>

    <ui:define name="customHead">
    </ui:define>

    <ui:define name="customBody">

            <p:panel id="typeSelector" header="Type" style="margin-top: 2em" styleClass="col-md-4 col-md-offset-1">
                <h:panelGrid columns="1" cellpadding="10">
                    <h:outputText value="Please select a type!" />
                    <p:selectOneMenu id="typeName" value="#{typeSelectorView.typeId}" style="width:150px">
                        <f:selectItems value="#{typeSelectorView.allTypes}" var="type" itemLabel="#{type.name}" itemValue="#{type.id}" />
                        <f:ajax event="change" render="chartDisplay" />
                    </p:selectOneMenu>
                </h:panelGrid>
            </p:panel>

        <p:panel id="chartDisplay" header="Chart" style="margin-top: 2em" styleClass="col-md-8" rendered="#{typeSelectorView.typeId != null}">
            <h:panelGrid columns="1" cellpadding="10" >
                <p:chart  type="pie" model="#{statusesByTypeView.chart}" style="width:400px;height:300px" />
            </h:panelGrid>
        </p:panel>

    </ui:define>
</ui:composition>